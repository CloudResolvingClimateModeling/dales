set(target_name dales.exe)
FILE(GLOB sourcefilesexe "*.f90")
list(REMOVE_ITEM sourcefilesexe "${CMAKE_CURRENT_SOURCE_DIR}/daleslib.f90")
list(REMOVE_ITEM sourcefilesexe "${CMAKE_CURRENT_SOURCE_DIR}/prog_check.f90")
add_executable(${target_name} ${sourcefilesexe})
target_link_libraries(${target_name} ${NETCDF_LIBS})
install(TARGETS dales.exe DESTINATION ${CMAKE_BINARY_DIR})

set(target_check dales-check.exe)
FILE(GLOB sourcefilescheck "*.f90")
list(REMOVE_ITEM sourcefilescheck "${CMAKE_CURRENT_SOURCE_DIR}/program.f90")
add_executable(${target_check} ${sourcefilescheck})
target_link_libraries(${target_check} ${NETCDF_LIBS})
install(TARGETS dales-check.exe DESTINATION ${CMAKE_BINARY_DIR})

set(target_lib dales)
FILE(GLOB sourcefileslib "*.f90")
list(REMOVE_ITEM sourcefileslib "${CMAKE_CURRENT_SOURCE_DIR}/program.f90")
list(REMOVE_ITEM sourcefileslib "${CMAKE_CURRENT_SOURCE_DIR}/prog_check.f90")
add_library(${target_lib} ${sourcefileslib})
target_link_libraries(${target_lib} ${NETCDF_LIBS})
install(TARGETS dales DESTINATION ${CMAKE_BINARY_DIR})
